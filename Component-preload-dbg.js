//@ui5-bundle inchcape/anx/putaway-case/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"inchcape/anx/putaway-case/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","inchcape/anx/putaway-case/model/models"],function(e,t,i){"use strict";return e.extend("inchcape.anx.putaway-case.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(i.createDeviceModel(),"device")}})});
},
	"inchcape/anx/putaway-case/controller/Master.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/TextArea","sap/m/ButtonType","sap/m/Button","sap/m/Label","sap/ui/model/Filter","sap/ui/model/json/JSONModel","sap/ui/core/Fragment","sap/ui/core/Core","zanxlib/zanxlib/controllers/addons","sap/m/MessageToast"],function(e,t,a,i,s,r,n,o,l,u,d,c){"use strict";return e.extend("inchcape.anx.putaway-case.controller.Master",{onInit:function(){this.correctCase="";this.getView().setModel(this.getOwnerComponent().getModel());this.oModel=this.getView().getModel();this.CurrentInput="";this._selectedBrand=null;this.bulk=false;this.clearPayload();this.oCarousel=this.getView().byId("itemsCarousel");var e=this;var t="/DummySet('AAA')";this.oModel.read(t,{urlParameters:{},success:e.onDummyHeaderReceived.bind(e),error:e.onDataError.bind(e)})},clearPayload:function(){var e=new sap.ui.model.json.JSONModel({Material:"INITIAL",Brand:"INITIAL",Scan:"INITIAL",AnxCase:"INITIAL",InbDlv:"INITIAL",AnxOrder:"INITIAL",Barcode:"INITIAL",Case:"INITIAL",ProposedBin:"INITIAL",ProposedBinPrefix:"INITIAL",ProvidedNewBin:"INITIAL",Warehouse:"INITIAL",SourceBin:"INITIAL",SourceBinPrefix:"INITIAL",NewBin:"INITIAL",NewBinPrefix:"INITIAL"});this.getView().setModel(e,"Payload");this.getView().getModel("Payload").refresh(true)},onPrinterScannFail:function(e){t.error("Problem with scanning process.")},onDummyHeaderReceived:function(e){var t=new sap.ui.model.json.JSONModel(e),a=this.getView();a.setModel(t,"DummySet");a.setBusy(false)},handleBrandHelp:function(e){this.inputObj=e.getSource();if(!this._BrandHelpDialog){this._BrandHelpDialog=sap.ui.xmlfragment("inchcape.anx.putaway-case.view.BrandHelpDialog",this);this.getView().addDependent(this._BrandHelpDialog)}this._BrandHelpDialog.open()},_handleValueHelpClose:function(e){if(e.sId=="cancel")return;var t=e.getParameter("selectedItem"),a=this.getView();if(t){this.inputObj.setValue(t.getTitle())}e.getSource().getBinding("items").filter([]);a.getModel("Payload").setProperty("/Brand",t.getTitle());jQuery.sap.delayedCall(500,this,function(){a.byId("idAnxCaseInput").focus()})},_focusOnNextField:function(e){this._selectedBrand=e.getSource().getSelectedKey();jQuery.sap.delayedCall(500,this,function(){this.getView().byId("idAnxCaseInput").focus()})},_handleBrandHelpSearch:function(e){var t=e.getParameter("value");var a=new n("BrandName",sap.ui.model.FilterOperator.Contains,t);e.getSource().getBinding("items").filter([a])},onLiveChangeCase:function(e){var t=e.getSource().getValue();if(t.length>2){this.onCaseScanSuccess(e)}else if(t.length<3&&t.length!==0){this.throwMessageBoxManualInput()}},onLiveChangeMaterial:function(e){var t=e.getSource().getValue();if(t.length>2){this.onMaterialScanSuccess(e)}else if(t.length<3&&t.length!==0){this.throwMessageBoxManualInput()}},onLiveChange:function(e){var t=e.getSource().getValue().trim();if(t.length>2){this.onBinScanSuccess(e)}else if(t.length<3&&t.length!==0){this.throwMessageBoxManualInput()}},throwMessageBoxManualInput:function(){sap.m.MessageToast.show("Manual Input can be done by Keyboard Button!",{my:"center center",at:"center center",duration:6e3})},onManualCaseInput:function(e){this.onManualInputPopup("Manual Case Input","Case number ...","idAnxCaseInput")},onManualMaterialInput:function(e){this.onManualInputPopup("Manual Material Input","Material number ...","idMaterialInput")},onManualBinInput:function(e){this.onManualInputPopup("Manual Bin Input","Bin number ...","idValueInput")},onManualInputPopup:function(e,t,a){if(!this.oSubmitDialog){this.oSubmitDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:e,content:[new sap.m.Input("manualInput",{width:"100%",placeholder:t,liveChange:function(e){var t=e.getParameter("value");this.oSubmitDialog.getBeginButton().setEnabled(t.length>0)}.bind(this)})],beginButton:new s({type:i.Emphasized,text:"Submit",enabled:false,press:function(){var e=u.byId("manualInput").getValue();u.byId("manualInput").setValue();this.oSubmitDialog.close();this.oSubmitDialog.destroy();this.oSubmitDialog=null;this.getView().byId(a).setValue(e).fireSubmit()}.bind(this)}),endButton:new s({text:"Cancel",press:function(){this.oSubmitDialog.close();this.oSubmitDialog.destroy();this.oSubmitDialog=null}.bind(this)})})}this.oSubmitDialog.open()},onCaseScanSuccess:function(e){if(e.getParameter("cancelled")==true)return;var t=this.getView().byId("Brand").getSelectedKey();this._selectedBrand=t;var a="";if(e.sId=="submit"){a=e.mParameters.value;if(a===undefined)a=this.getView().byId("idAnxCaseInput").getValue()}else if(e.sId=="press"||e.sId=="liveChange"){a=this.getView().byId("idAnxCaseInput").getValue()}else{a=e.getParameter("text")}a=a.trim();var i=false;var s=a;if(a.length===6){i=true}var r=a.substring(0,2);switch(t){case"KM":if(r=="00")a=a.slice(2);break;case"HQ":if(r=="00")a=a.slice(2);break}a=this.convertCaseBarcode(a);if(i)a=s;this.getView().getModel("Payload").setProperty("/Barcode",a);if(e.sId=="scanSuccess"){e.getSource().getParent().getContent()[0].setValue(e.getParameters().text)}this.correctCase=a;this.searchCaseRelatedDocument(a)},convertCaseBarcode:function(e){var t=e;var a=t.length;switch(this.getView().getModel("Payload").getProperty("/Brand")){case"SU":t=this.convertSubaruBarcode(t);t=this.format(t,"#####-####");break;case"CI":if(a===9)break;if(a<9){t=this.deleteDash(t);t=this.format(t,"######-##")}else{t=t.replace(/\s/g,"");t=this.convertPSABarcode(t);t=this.format(t,"######-##")}break;case"PE":if(a===10)break;if(a<10){t=this.deleteDash(t);t=this.format(t,"######-###")}else{t=t.replace(/\s/g,"");t=this.convertPSABarcode(t);t=this.format(t,"######-###")}break;case"KM":t=this.format(t,"########");break;case"HQ":t=this.format(t,"########");break;default:break}return t},convertSubaruBarcode:function(e){var t=e;t=this.deleteDash(t);return t},deleteDash:function(e){return e.replace("-","")},convertPSABarcode:function(e){var t=e.substring(1);t=t.slice(0,-1);return t},format:function(e,t){var a=e.toString();var i=0;var s="";for(var r=0;r<a.length;r++){if(t.substr(i,1)==="-"){s=s+t.substr(i,1);i++}s=s+a[r];i++}return s},onMaterialScanSuccess:function(e){if(e.getParameter("cancelled")==true)return;var t=this.getView().byId("idMaterialInput");var a="";if(e.sId=="submit"){console.log("submit");a=e.mParameters.value}else if(e.sId=="press"||e.sId=="liveChange"){console.log("press");a=t.getValue()}else{a=e.getParameters().text}a=d.prototype.trimUnwantedChars(a);this.getView().getModel("Payload").setProperty("/Material",a);if(e.sId=="scanSuccess"){e.getSource().getParent().getContent()[0].setValue(a)}var i=this.getView().getModel("Payload").getProperty("/Brand");if((i==="PE"||i==="CI")&&a.substring(0,1)==="P"){a=a.substring(1,a.length)}t.setValue(a);this.searchMaterial(a)},correctMaterial:function(e){var t=e.getParameters().value;t=t.trim();var a=this.getView().getModel("Payload").getProperty("/Brand");var i=this.getView().byId("idMaterialInput");i.setValue(t)},searchMaterial:function(e){var t=this;this.getView().setBusy(true);var a=this.getView().getModel("Payload").oData.Brand;var i=this.oModel.createKey("/MaterialSet",{MaterialNr:e,Brand:a,Case:this.correctCase});this.oModel.read(i,{urlParameters:{},error:t.onMaterialError.bind(t),success:t.onMaterialHeaderReceived.bind(t)})},onMaterialHeaderReceived:function(e){if(e.BinMessage)c.show(e.BinMessage);var t=new sap.ui.model.json.JSONModel(e),a=this.getView(),i=a.getModel("Payload");i.setProperty("/Material",e.MaterialNr);i.setProperty("/ProposedBin",e.Bin);i.setProperty("/ProposedBinPrefix",e.BinPrefix);i.setProperty("/SourceBin",e.BinSource);i.setProperty("/SourceBinPrefix",e.BinSourcePrefix);i.setProperty("/Warehouse",e.Warehouse);i.setProperty("/SC",e.SC);i.setProperty("/Available",e.Available);this.bulk=false;a.setModel(t,"Material");a.byId("idMaterialButton").setVisible(false);a.byId("idMaterialNextButton").setVisible(false);a.byId("idOpenListNextButton").setVisible(false);a.byId("idManualMaterialInput").setVisible(false);a.byId("idMaterialInput").setWidth("20rem");a.byId("idMaterialInput").setEnabled(false);a.byId("idMaterialDescLabel").setVisible(true);if(e.HazMatnr!==""&&e.HazMatnr!==undefined&&e.HazMatnr!==null)a.byId("idHazMaterial").setVisible(true);a.byId("idBinLabel").setVisible(true);a.byId("idBinText").setVisible(true);a.byId("idSmartFormThirdSeparator").setVisible(true);a.byId("idSmartFormThird").setVisible(true);a.byId("idSmartFormFourthSeparator").setVisible(true);a.byId("idSmartFormFourth").setVisible(true);a.setBusy(false);jQuery.sap.delayedCall(500,this,function(){a.byId("idValueInput").focus()})},onBinScanSuccess:function(e){if(e.getParameter("cancelled")==true)return;var t="";var a=this.getView().getModel("Payload").getProperty("/ProposedBin");var i=this.getView().getModel("Payload").getProperty("/ProposedBinPrefix");var s=this.getView().byId("idValueInput");if(e.sId=="press"||e.sId=="submit"){t=s.getValue()}else if(e.sId=="scanSuccess"){t=e.getParameters().text;t=t.trim();this.getView().byId("idValueInput").setValue(t)}else if(e.sId=="liveChange"&&e.getParameter("value").length>3){t=e.getParameter("value");t=t.trim()}if(t==""){sap.m.MessageToast.show("Bin input was empty. Please try again by scanning BIN label.",{my:"center center",at:"center center",duration:3e3});this.getView().byId("idValueInput").setValue("");return}var r={scan:t,scanBinType:"",proposedBin:a,proposedBinType:i};this._dataObj=r;this.getBinVariants(t)},getBinVariants:function(e){var t={StorageBin:e};this.oModel.callFunction("/GetBinVariants",{method:"GET",urlParameters:t,success:this.onBinVariantsReceived.bind(this),error:this.onDataError.bind(this)})},onBinVariantsReceived:function(e){var t=e.results[0];if(e.results.length<2){this._dataObj.scanBinType=t.StorageType;this.prepareDataBeforeAskAboutBin();return}var a=new sap.ui.model.json.JSONModel(e);var i=this.getView();i.setModel(a,"BinVariants");if(!this._oDialog){this._oDialog=sap.ui.xmlfragment("inchcape.anx.putaway-case.view.BinVariants",this);this.getView().addDependent(this._oDialog)}this._dialogSource="source";jQuery.sap.syncStyleClass("sapUiSizeCompact",i,this._oDialog);this._oDialog.open()},onBinVariantChosen:function(e){if(e.sId=="cancel"){return}var t=e.getParameter("selectedItem");if(t){this._dataObj.scanBinType=t.getTitle();this.prepareDataBeforeAskAboutBin();return}},prepareDataBeforeAskAboutBin:function(){var e=this.getView().byId("idValueInput");var a=this;if(this._dataObj.scan!=""&&this._dataObj.proposedBin!=""){if(this._dataObj.scan!==this._dataObj.proposedBin||this._dataObj.scanBinType!==this._dataObj.proposedBinType){t.warning("Bin: "+this._dataObj.scanBinType+" "+this._dataObj.scan+" is not the suggested Bin: "+this._dataObj.proposedBinType+" "+this._dataObj.proposedBin+". Do you wish to continue ?",{actions:[t.Action.OK,t.Action.CANCEL],emphasizedAction:t.Action.OK,onClose:function(t){if(t==="OK"){a.askAboutBin(a._dataObj.scanBinType,a._dataObj.scan)}else{jQuery.sap.delayedCall(500,this,function(){e.setValue("");e.focus()})}}})}else{this.askAboutBin(this._dataObj.scanBinType,this._dataObj.scan)}}else if(this._dataObj.scan==""&&this._dataObj.proposedBin!=""){this.askAboutBin(this._dataObj.proposedBinType,this._dataObj.proposedBin)}else if(this._dataObj.scan==""&&this._dataObj.proposedBin==""){t.error("No Bin has been proposed by system so you need to enter it by yourself.");jQuery.sap.delayedCall(500,this,function(){e.setValue("");e.focus()});return}else if(this._dataObj.scan!=""&&this._dataObj.proposedBin==""){this.askAboutBin(this._dataObj.scanBinType,this._dataObj.scan)}},askAboutBin:function(e,t){this.getView().setBusy(true);var a=this.getView();var i=a.getModel("Payload");i.setProperty("/ProvidedNewBin",t);var s=this;var r=t;var n=e;var o=i.getProperty("/SourceBin");var l=i.getProperty("/SourceBinPrefix");var u=i.getProperty("/ProposedBin");var d=i.getProperty("/ProposedBinPrefix");var c=i.getProperty("/Warehouse");var p=i.getProperty("/Material");var h=i.getProperty("/Brand");var b=i.getProperty("/Case");if(!this.bulk){var y=this.oModel.createKey("/NewBinSet",{NewBinName:r,NewBinPrefix:n,ProposedBin:u,ProposedBinPrefix:d,Warehouse:c,SourceBin:o,SourceBinPrefix:l,Brand:h,AnxCase:b,Material:p})}else{var y=this.oModel.createKey("/NewBinSet",{NewBinName:r,NewBinPrefix:n,ProposedBin:u,ProposedBinPrefix:d,Warehouse:c,SourceBin:o,SourceBinPrefix:l,Brand:h,AnxCase:b,Material:""})}this.oModel.read(y,{urlParameters:{},success:this.onBinHeaderReceived.bind(s),error:this.onBinError.bind(s)})},onBinHeaderReceived:function(e){var t=new sap.ui.model.json.JSONModel(e),a=this.getView(),i=a.getModel("Payload");i.setProperty("/NewBinPrefix",t.oData.NewBinPrefix);i.setProperty("/NewBin",t.oData.NewBinName);a.setModel(t,"NewBin");var s=a.byId("idValueInput");s.setEnabled(false);s.setWidth("14rem");if(s.getValue()==""){s.setValue(i.getProperty("/ProposedBin"))}a.byId("idBinPrefix").setVisible(true);a.byId("idValueInput").setWidth("14rem");a.byId("idBinPrefix").setVisible(true);a.byId("idValueButton").setVisible(false);a.byId("idValueNextButton").setVisible(false);a.byId("idManualBinInput").setVisible(false);a.byId("idQuantityInput").setEnabled(true);jQuery.sap.delayedCall(500,this,function(){a.byId("idQuantityInput").focus()});if(this.bulk){this.getView().byId("idButtonConfirmBulk").setVisible(true)}a.setBusy(false)},onLiveChangeQuantity:function(e){var t=e.getSource();var a="Quantity 0 is not allowed!";var i="Qty exceeds available Qty";var s="Qty is less than available Qty";var r=this.getView().getModel("Material").getData().Available;if(parseFloat(t.getValue())===0){t.setValueState("Error");t.setValueStateText(a)}else if(parseFloat(t.getValue())>r){t.setValueState("Warning");t.setValueStateText(i)}else if(parseFloat(t.getValue())<r){t.setValueState("Warning");t.setValueStateText(s)}else{t.setValueState("None");t.setValueStateText("")}this.getView().getModel("Payload").setProperty("/Quantity",t.getValue());var n=this.getView().byId("idButtonConfirm");if(t.getValue().length>0){n.setVisible(true);n.setEnabled(true)}else{n.setVisible(true);n.setEnabled(false)}},searchCaseRelatedDocument:function(e){var t=this;this.getView().setBusy(true);var a=this.getView().getModel("Payload").oData.Brand;if(a==="INITIAL"||a===null){this.onDataError({responseText:"Please select Brand beforehand!"});return}var i="/ANXCaseSet(Scan='"+e+"',Brand='"+a+"')";this.oModel.read(i,{urlParameters:{},success:t.onAnxCaseHeaderReceived.bind(t),error:t.onCaseError.bind(t)})},onAnxCaseHeaderReceived:function(e){var t=new sap.ui.model.json.JSONModel(e),a=this.getView(),i=a.getModel("Payload");i.setProperty("/Scan",e.Scan);i.setProperty("/Case",e.Case);i.setProperty("/InbDlv",e.InbDlv);i.setProperty("/AnxOrder",e.AnxOrder);i.setProperty("/AnxCase",e.AnxCase);a.setModel(t,"ANXCase");a.byId("idAnxCaseInput").setValue(t.oData.AnxCase);a.byId("Brand").setEnabled(false);a.byId("idCaseNextButton").setVisible(false);a.byId("idCaseButton").setVisible(false);a.byId("idManualCaseInput").setVisible(false);a.byId("idAnxCaseInput").setWidth("20rem");a.byId("idAnxCaseInput").setEnabled(false);a.byId("idMaterial").setVisible(true);a.byId("idSmartFormSecondSeparator").setVisible(true);a.byId("idSmartFormSecond").setVisible(true);a.setBusy(false);jQuery.sap.delayedCall(500,this,function(){a.byId("idMaterialInput").focus()})},focusOnInput:function(e){jQuery.sap.delayedCall(500,this,function(){this.getView().byId(e).focus()});this.CurrentInput=""},onCaseError:function(e){this.CurrentInput="idAnxCaseInput";this.onDataError(e)},onMaterialError:function(e){this.CurrentInput="idMaterialInput";this.onDataError(e)},onBinError:function(e){this.CurrentInput="idValueInput";this.onDataError(e)},onDataError:function(e){var t;var a=this;if(typeof e.responseText!=="undefined"){try{t=JSON.parse(e.responseText).error.message.value}catch(a){if(e.responseText===undefined||e.responseText===""||e.responseText===null)t="An error has occured";else t=e.responseText}}var i=new sap.m.Dialog({title:"Error",type:"Message",state:"Error",content:new sap.m.Text({text:t}),beginButton:new sap.m.Button({text:"OK",press:function(){i.close()}}),afterClose:function(){i.destroy();if(a.CurrentInput!=""){jQuery.sap.delayedCall(500,a,function(){a.getView().byId(a.CurrentInput).setValue("");a.getView().byId(a.CurrentInput).focus();a.CurrentInput=""})}}});this.getView().setBusy(false);i.open()},onConfirmButton:function(e){var a=this.getView().getModel("Payload").oData;this.getView().setBusy(true);var i=this.getView().byId("idQuantityInput").getValue();var s=this.getView().getModel("Material").getData().Available;var r=false;var n=this;if(parseFloat(i)<parseFloat(s)&&parseFloat(i)>0){var o=!!this.getView().$().closest(".sapUiSizeCompact").length;t.confirm("Is Case empty of material "+a.Material+"?",{actions:[t.Action.YES,t.Action.NO],styleClass:o?"sapUiSizeCompact":"",onClose:function(e){if(e===t.Action.YES){r=true}else{r=false}n.postDocument(r)}})}else if(parseFloat(i)===0){var l="Putaway for 0 quantity not allowed. Contact your Supervisor. Press (OK) to go back or (Correct Input)";var u=new sap.m.Dialog({title:"Error",type:"Message",state:"Error",content:new sap.m.Text({text:l}),beginButton:new sap.m.Button({text:"OK",press:function(){n.refreshView();u.close()}}),endButton:new sap.m.Button({text:"Correct Input",press:function(){u.close()}}),afterClose:function(e){n.getView().setBusy(false);n.getView().byId("idQuantityInput").setValueState("None");n.getView().byId("idQuantityInput").setValueStateText("");n.getView().byId("idQuantityInput").setValue("");n.getView().byId("idQuantityInput").focus()}});u.open();return}else if(parseFloat(i)>parseFloat(s)){var l="Quantity for Putaway is more than Available Quantity?";var u=new sap.m.Dialog({title:"Error",type:"Message",state:"Error",content:new sap.m.Text({text:l}),beginButton:new sap.m.Button({text:"OK",press:function(){u.close()}}),afterClose:function(){n.getView().setBusy(false);n.getView().byId("idQuantityInput").setValue("");n.getView().byId("idQuantityInput").focus()}});u.open();return}else{this.postDocument(r)}},postDocument:function(e){var t=this.getView().getModel("Payload").oData;var a=new sap.ui.model.json.JSONModel({NewBin:t.NewBin,NewBinPrefix:t.NewBinPrefix,Warehouse:t.Warehouse,BinSource:t.SourceBin,BinSourcePrefix:t.SourceBinPrefix,Material:t.Material,Case:this.correctCase,Brand:t.Brand,ProposedBin:t.ProposedBin,ProposedBinPrefix:t.ProposedBinPrefix,Quantity:this.getView().byId("idQuantityInput").getValue(),IsCaseEmpty:e});var i=this;this.oModel.callFunction("/PostDocument",{method:"GET",urlParameters:a.oData,success:function(e,t){i.refreshView();var a=t.data.results[0].Message;var s=a.split("^");var r="";for(var n=0;n<s.length;n++){r=r+s[n]+"\n\n"}i.getView().setBusy(false);var a=t.data.results[0].Message;sap.m.MessageToast.show(r,{my:"center center",at:"center center",duration:6e3})},error:function(e){i.getView().setBusy(false);i.onDataError(e)}})},onConfirmBulkButton:function(e){var t=this.getView().getModel("Payload").oData;this.getView().setBusy(true);var a=new sap.ui.model.json.JSONModel({NewBin:t.NewBin,NewBinPrefix:t.NewBinPrefix,Warehouse:t.Warehouse,BinSource:t.SourceBin,BinSourcePrefix:t.SourceBinPrefix,Case:this.correctCase,Brand:t.Brand,ProposedBin:t.ProposedBin,ProposedBinPrefix:t.ProposedBinPrefix});var i=this;this.oModel.callFunction("/PostDocumentBulk",{method:"GET",urlParameters:a.oData,success:function(e,t){i.refreshView();var a=t.data.results[0].Message;var s=a.split("^");var r="";for(var n=0;n<s.length;n++){r=r+s[n]+"\n\n"}i.getView().setBusy(false);var a=t.data.results[0].Message;sap.m.MessageToast.show(r,{my:"center center",at:"center center",duration:6e3})},error:function(e){i.getView().setBusy(false);i.onDataError(e)}})},refreshView:function(){var e=this.getView();e.byId("Brand").setEnabled(true);e.byId("idAnxCaseInput").setEnabled(true);e.byId("idAnxCaseInput").setValue("");e.byId("idAnxCaseInput").setWidth("17rem");e.byId("idCaseNextButton").setVisible(true);e.byId("idCaseButton").setVisible(true);e.byId("idManualCaseInput").setVisible(true);e.byId("idManualMaterialInput").setVisible(true);e.byId("idManualBinInput").setVisible(true);e.byId("idMaterial").setVisible(false);e.byId("idMaterialDescLabel").setVisible(false);e.byId("idHazMaterial").setVisible(false);e.byId("idMaterialInput").setEnabled(true);e.byId("idMaterialInput").setValue("");e.byId("idMaterialInput").setWidth("17rem");e.byId("idMaterialNextButton").setVisible(true);e.byId("idOpenListNextButton").setVisible(true);e.byId("idMaterialButton").setVisible(true);e.byId("idSmartFormSecondSeparator").setVisible(false);e.byId("idSmartFormSecond").setVisible(false);e.byId("idBinLabel").setVisible(false);e.byId("idBinText").setVisible(false);e.byId("idSmartFormThirdSeparator").setVisible(false);e.byId("idSmartFormThird").setVisible(false);e.byId("idSmartFormFourthSeparator").setVisible(false);e.byId("idSmartFormFourth").setVisible(false);e.byId("idBinPrefix").setVisible(false);e.byId("idValueInput").setEnabled(true);e.byId("idValueInput").setValue("");e.byId("idValueInput").setWidth("10rem");e.byId("idValueNextButton").setVisible(true);e.byId("idBinPrefix").setVisible(false);e.byId("idValueButton").setVisible(true);e.byId("itemsCarousel").setVisible(false);e.byId("idQuantityInput").setValue("");e.byId("idButtonConfirm").setVisible(false);e.byId("idButtonConfirmBulk").setVisible(false);this.bulk=false;this._selectedBrand=e.byId("Brand").getSelectedKey();if(this._selectedBrand!=="INITIAL"){e.byId("Brand").setSelectedKey(this._selectedBrand);jQuery.sap.delayedCall(500,this,function(){this.getView().byId("idAnxCaseInput").focus()})}else{this.clearPayload()}},setCarousel:function(e){this.oCarousel.destroyPages();this.activePage=0;var t=this;this.bReadyForDespatch=false;this.aFragments=[];e.forEach(function(e,a){var i=new o(e,"item");var s=sap.ui.xmlfragment("item"+a,"inchcape.anx.putaway-case.view.ItemForm",t);t.getView().addDependent(s);s.setModel(i,"item");t.oCarousel.addPage(s);t.aFragments.push(s)})},onCheckOpenListItem:function(e){var t=this.getView().getModel("Payload").oData.Brand;var a=this.getView().getModel("Payload").oData.Case;var i=[];i.push(new n("Brand",sap.ui.model.FilterOperator.EQ,t));i.push(new n("Scan",sap.ui.model.FilterOperator.EQ,a));var s=this;this.getView().setBusy(true);this.oModel.read("/OpenListItemSet",{filters:i,success:s.onOpenListItemReceived.bind(s),error:s.onDataError.bind(s)})},onOpenListItemReceived:function(e){var t=new sap.ui.model.json.JSONModel(e),a=this.getView(),i=a.getModel("Payload");a.setBusy(false);a.byId("idMaterial").setVisible(false);this.bulk=true;try{var s=e.results[0];var r=[];r.BinPrefix=s.StorageType;r.Bin=s.StorageBin;var t=new sap.ui.model.json.JSONModel(r);a.setModel(t,"Material")}catch(e){return}i.setProperty("/ProposedBin",s.StorageBin);i.setProperty("/ProposedBinPrefix",s.StorageType);i.setProperty("/SourceBin",s.StorageBin);i.setProperty("/SourceBinPrefix",s.StorageType);i.setProperty("/Warehouse",s.Lgnum);i.setProperty("/SC",s.StockCateg);a.byId("idMaterialButton").setVisible(false);a.byId("idMaterialNextButton").setVisible(false);a.byId("idOpenListNextButton").setVisible(false);a.byId("idMaterialInput").setWidth("20rem");a.byId("idMaterialInput").setEnabled(false);a.byId("itemsCarousel").setVisible(true);a.byId("idMaterialDescLabel").setVisible(true);a.byId("idBinLabel").setVisible(true);a.byId("idBinText").setVisible(true);a.byId("idSmartFormThirdSeparator").setVisible(true);a.byId("idSmartFormThird").setVisible(true);this.setCarousel(e.results)}})});
},
	"inchcape/anx/putaway-case/i18n/i18n.properties":'title=Putaway Case\nappTitle=Putaway Case\nappDescription=App Description\n\nmaterial=Material\nstockCategory=Stock Cat \nquantity=Quant \navailableQty=Avail \n\n \n#XMSG: \nQTY_TO_MUCH=Quantity for Putaway is more than Available Quantity?',
	"inchcape/anx/putaway-case/localService/mockserver.js":function(){sap.ui.define(["sap/ui/core/util/MockServer"],function(e){"use strict";var t,a="inchcape/anx/putaway-case/",r=a+"localService/mockdata";return{init:function(){var n=jQuery.sap.getUriParameters(),s=jQuery.sap.getModulePath(r),i=jQuery.sap.getModulePath(a+"manifest",".json"),o="",u=n.get("errorType"),p=u==="badRequest"?400:500,c=jQuery.sap.syncGetJSON(i).data,l=c["sap.app"].dataSources,f=l.ZWM_ZW01_CASE_RECEIPT_SRV,d=jQuery.sap.getModulePath(a+f.settings.localUri.replace(".xml",""),".xml"),g=/.*\/$/.test(f.uri)?f.uri:f.uri+"/",y=f.settings.annotations;t=new e({rootUri:g});e.config({autoRespond:true,autoRespondAfter:n.get("serverDelay")||1e3});t.simulate(d,{sMockdataBaseUrl:s,bGenerateMissingMockData:true});var h=t.getRequests(),m=function(e,t,a){a.response=function(a){a.respond(e,{"Content-Type":"text/plain;charset=utf-8"},t)}};if(n.get("metadataError")){h.forEach(function(e){if(e.path.toString().indexOf("$metadata")>-1){m(500,"metadata Error",e)}})}if(u){h.forEach(function(e){if(e.path.toString().indexOf(o)>-1){m(p,u,e)}})}t.start();jQuery.sap.log.info("Running the app with mock data");if(y&&y.length>0){y.forEach(function(t){var r=l[t],n=r.uri,s=jQuery.sap.getModulePath(a+r.settings.localUri.replace(".xml",""),".xml");new e({rootUri:n,requests:[{method:"GET",path:new RegExp("([?#].*)?"),response:function(e){jQuery.sap.require("jquery.sap.xml");var t=jQuery.sap.sjax({url:s,dataType:"xml"}).data;e.respondXML(200,{},jQuery.sap.serializeXML(t));return true}}]}).start()})}},getMockServer:function(){return t}}});
},
	"inchcape/anx/putaway-case/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"inchcape.anx.putaway-case","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","sourceTemplate":{"id":"servicecatalog.connectivityComponentForManifest","version":"0.0.0","toolsId":"f43e5209-4dd6-453d-84b0-b49ea9bbff50"},"dataSources":{"ZWM_ZW01_CASE_RECEIPT_SRV":{"uri":"/sap/opu/odata/sap/ZWM_ZW04_PUTAWAY_CASE_SRV/","type":"OData","settings":{"localUri":"localService/metadata.xml"}},"ZWM_ZW04_PUTAWAY_CASE_SRV":{"uri":"/sap/opu/odata/sap/ZWM_ZW04_PUTAWAY_CASE_SRV/","type":"OData","settings":{"localUri":"localService/metadata.xml"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"rootView":{"viewName":"inchcape.anx.putaway-case.view.Master","type":"XML","async":true,"id":"Master"},"dependencies":{"minUI5Version":"1.65.6","libs":{"sap.ui.layout":{},"sap.ui.core":{},"sap.m":{},"zanxlib.zanxlib":{"minVersion":"1.0.0"}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"inchcape.anx.putaway-case.i18n.i18n"}},"":{"type":"sap.ui.model.odata.v2.ODataModel","settings":{"defaultOperationMode":"Client","defaultBindingMode":"OneWay","defaultCountMode":"Request"},"dataSource":"ZWM_ZW01_CASE_RECEIPT_SRV","preload":true},"dokumenty":{"type":"sap.ui.model.odata.v2.ODataModel","settings":{"defaultOperationMode":"Server","defaultBindingMode":"OneWay","defaultCountMode":"Request"},"dataSource":"ZWM_ZW04_PUTAWAY_CASE_SRV","preload":true}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"inchcape.anx.putaway-case.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"RouteMaster","pattern":"RouteMaster","target":["TargetMaster"]}],"targets":{"TargetMaster":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"Master","viewName":"Master"}}}},"sap.platform.abap":{"uri":"/sap/bc/ui5_ui5/sap/zanx_wm_putacas/webapp","_version":"1.1.0"}}',
	"inchcape/anx/putaway-case/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"inchcape/anx/putaway-case/serviceBinding.js":'function initModel(){var a="/sap/opu/odata/sap/ZWM_ZW04_PUTAWAY_CASE_SRV/";var e=new sap.ui.model.odata.ODataModel(a,true);sap.ui.getCore().setModel(e)}',
	"inchcape/anx/putaway-case/utils/locate-reuse-libs.js":'(function(e){var t=function(e,t){var n=["sap.apf","sap.base","sap.chart","sap.collaboration","sap.f","sap.fe","sap.fileviewer","sap.gantt","sap.landvisz","sap.m","sap.ndc","sap.ovp","sap.rules","sap.suite","sap.tnt","sap.ui","sap.uiext","sap.ushell","sap.uxap","sap.viz","sap.webanalytics","sap.zen"];Object.keys(e).forEach(function(e){if(!n.some(function(t){return e===t||e.startsWith(t+".")})){if(t.length>0){t=t+","+e}else{t=e}}});return t};var n=function(e){var n="";if(e){if(e["sap.ui5"]&&e["sap.ui5"].dependencies){if(e["sap.ui5"].dependencies.libs){n=t(e["sap.ui5"].dependencies.libs,n)}if(e["sap.ui5"].dependencies.components){n=t(e["sap.ui5"].dependencies.components,n)}}if(e["sap.ui5"]&&e["sap.ui5"].componentUsages){n=t(e["sap.ui5"].componentUsages,n)}}return n};var r=function(e){var t=e;return new Promise(function(r,a){$.ajax(t).done(function(e){r(n(e))}).fail(function(){a(new Error("Could not fetch manifest at \'"+e))})})};var a=function(e){if(e){Object.keys(e).forEach(function(t){var n=e[t];if(n&&n.dependencies){n.dependencies.forEach(function(e){if(e.url&&e.url.length>0&&e.type==="UI5LIB"){jQuery.sap.log.info("Registering Library "+e.componentId+" from server "+e.url);jQuery.sap.registerModulePath(e.componentId,e.url)}})}})}};e.registerComponentDependencyPaths=function(e){return r(e).then(function(e){if(e&&e.length>0){var t="/sap/bc/ui2/app_index/ui5_app_info?id="+e;var n=jQuery.sap.getUriParameters().get("sap-client");if(n&&n.length===3){t=t+"&sap-client="+n}return $.ajax(t).done(a)}})}})(sap);var scripts=document.getElementsByTagName("script");var currentScript=document.getElementById("locate-reuse-libs");if(!currentScript){currentScript=document.currentScript}var manifestUri=currentScript.getAttribute("data-sap-ui-manifest-uri");var componentName=currentScript.getAttribute("data-sap-ui-componentName");var useMockserver=currentScript.getAttribute("data-sap-ui-use-mockserver");var bundleResources=function(){jQuery.sap.require("jquery.sap.resources");var e=sap.ui.getCore().getConfiguration().getLanguage();var t=jQuery.sap.resources({url:"i18n/i18n.properties",locale:e});document.title=t.getText("appTitle")};sap.registerComponentDependencyPaths(manifestUri).catch(function(e){jQuery.sap.log.error(e)}).finally(function(){sap.ui.getCore().attachInit(bundleResources);if(componentName&&componentName.length>0){if(useMockserver&&useMockserver==="true"){sap.ui.getCore().attachInit(function(){sap.ui.require([componentName.replace(/\\./g,"/")+"/localService/mockserver"],function(e){e.init();sap.ushell.Container.createRenderer().placeAt("content")})})}else{sap.ui.require(["sap/ui/core/ComponentSupport"]);sap.ui.getCore().attachInit(bundleResources)}}else{sap.ui.getCore().attachInit(function(){sap.ushell.Container.createRenderer().placeAt("content")})}});sap.registerComponentDependencyPaths(manifestUri);',
	"inchcape/anx/putaway-case/view/BinVariants.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"><SelectDialog\n\t\tclass="sapUiPopupWithPadding"\n\t\tnoDataText="No Storage Bins found"\n\t\ttitle="Select Bin"\n\t\tsearch=".onSearch"\n\t\tconfirm="onBinVariantChosen"\n\t\tcancel="onBinVariantChosen"\n\t\titems="{BinVariants>/results}"><StandardListItem \n\t\t\ttitle="{BinVariants>StorageType}"\n\t\t\tdescription="{BinVariants>StorageBin} - {BinVariants>Warehouse}"\n\t\t/></SelectDialog></core:FragmentDefinition>',
	"inchcape/anx/putaway-case/view/BrandHelpDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"><SelectDialog\n\t\ttitle="Brand"\n\t\tclass="sapUiPopupWithPadding"\n\t\titems="{/BrandSet}"\n\t\tsearch="_handleBrandHelpSearch"\n\t\tconfirm="_handleValueHelpClose"\n\t\tcancel="_handleValueHelpClose"><StandardListItem\n\t\t\ttitle="{BrandCode}"\n\t\t\tdescription="{BrandName}" /></SelectDialog></core:FragmentDefinition>',
	"inchcape/anx/putaway-case/view/ItemForm.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"><sap.ui.layout.form:SimpleForm xmlns:sap.ui.layout="sap.ui.layout" xmlns="sap.m"\n\t\txmlns:sap.ui.layout.form="sap.ui.layout.form" editable="false" layout="ResponsiveGridLayout" id="form0_1580122079650_copy"\n\t\tcd:w5g.dt.context="/ItemSet" xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" \n\t\tlabelSpanM="3" labelSpanS="3" labelSpanL="3" labelSpanXL="3" columnsL="5" columnsM="5" columnsXL="5"><sap.ui.layout.form:content><Label text="{i18n>material}"/><Text text="{item>/Material}" /><Label text=""/><sap.ui.layout:VerticalLayout><Text text="{item>/MaterialDescr}" class="TextItalic smallerText"/><Text id="idHazMaterial" visible="false" text="Dangerous Goods" class="dangerousGoodsFont"/></sap.ui.layout:VerticalLayout><Label text="{i18n>stockCategory}"/><Text text="{item>/StockCateg}" /><Label text="{i18n>quantity}"/><Text text="{item>/CurQty}" /><Label text="{i18n>availableQty}"/><Text text="{item>/AvailableQty}"/></sap.ui.layout.form:content></sap.ui.layout.form:SimpleForm></core:FragmentDefinition>',
	"inchcape/anx/putaway-case/view/Master.view.xml":'<mvc:View controllerName="inchcape.anx.putaway-case.controller.Master" xmlns:core="sap.ui.core" xmlns="sap.m"\n\txmlns:mvc="sap.ui.core.mvc" xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns:l="sap.ui.layout"\n\txmlns:form="sap.ui.layout.form" xmlns:ndc="sap.ndc" displayBlock="true"><Shell id="shell"><App id="app"><pages><Page id="idPage" showHeader="false"><content><l:VerticalLayout><form:SimpleForm id="idSmartFormFirst" layout="ResponsiveGridLayout" editable="true" cd:w5g.dt.context="/HeaderSet" labelSpanS="2" class="sapUiNoMarginBottom"\n\t\t\t\t\t\t\t\tlabelSpanL="2" columnsXL="1" columnsL="1"><form:content><l:VerticalLayout><Label text="Brand" /><ComboBox id="Brand" change="_focusOnNextField" showSecondaryValues="true" width="20rem"\n\t\t\t\t\t\t\t\t\t\t\tselectedKey="{Payload>/Brand}" placeholder="Select Brand ..." items="{ path: \'/BrandSet\', sorter: { path: \'BrandCode\' } }"><core:ListItem key="{BrandCode}" text="{BrandName}" additionalText="{BrandCode}"/></ComboBox><VBox id="idAnxCase" class="sapUiTinyMarginTop"><l:VerticalLayout><Label id="idAnxCaseLabel" text="ANX Case"/><l:HorizontalLayout id="idAnxCaseScanSection"><l:content><Input width="14rem" id="idAnxCaseInput" placeholder="Scan Case ..." class="sapUiTinyMarginEnd" submit="onCaseScanSuccess" liveChange="onLiveChangeCase"/><Button id="idManualCaseInput" class="sapUiTinyMarginEnd" icon="sap-icon://keyboard-and-mouse" press="onManualCaseInput" width="2.5rem"/><ndc:BarcodeScannerButton id="idCaseButton" scanSuccess="onCaseScanSuccess" scanFail="onPrinterScannFail" width="2.5rem"/></l:content></l:HorizontalLayout><Button id="idCaseNextButton" class="sapUiTinyMarginEnd" text="Next" press="onCaseScanSuccess" width="8rem"/></l:VerticalLayout></VBox><VBox id="idMaterial" visible="false" class="sapUiTinyMarginTop"><l:VerticalLayout><Label id="idMaterialLabel" text="Material"/><l:HorizontalLayout id="idMaterialScanSection"><l:content><Input width="14rem" id="idMaterialInput" class="sapUiTinyMarginEnd" liveChange="onLiveChangeMaterial" submit="onMaterialScanSuccess"/><Button id="idManualMaterialInput" class="sapUiTinyMarginEnd" icon="sap-icon://keyboard-and-mouse" press="onManualMaterialInput" width="2.5rem"/><ndc:BarcodeScannerButton id="idMaterialButton" scanSuccess="onMaterialScanSuccess" scanFail="onPrinterScannFail" width="2.5rem"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginBegin"/></l:content></l:HorizontalLayout><Label id="idMaterialDescLabel" class="TextItalic smallerText" text="{Material>/MaterialDesc}" visible="false"/><Label id="idHazMaterial" visible="false" text="Dangerous Goods" class="dangerousGoodsFont"/><HBox><Button id="idMaterialNextButton" text="Next" class="sapUiTinyMarginEnd" press="onMaterialScanSuccess" width="8rem"/><Button id="idOpenListNextButton" text="Check Open List" class="sapUiTinyMarginEnd" press="onCheckOpenListItem" width="8rem"/></HBox></l:VerticalLayout></VBox></l:VerticalLayout></form:content></form:SimpleForm><Toolbar id="idSmartFormSecondSeparator" visible="false" width="20rem" height="1px" class="tinyMarginBottomTop sapUiSmallMarginBegin"/><form:SimpleForm id="idSmartFormSecond" layout="ResponsiveGridLayout" class="SmartFormSecondSqueezed sapUiTinyMarginBottom sapUiNoMarginBottom" labelSpanS="4"\n\t\t\t\t\t\t\t\tlabelSpanM="4" visible="false"><form:content><Label text="Case"/><Text text="{ANXCase>/Case}"/><Label text="Inb. Delivery"/><Text text="{ANXCase>/InbDlv}"/><Label text="ANX Order"/><Text text="{ANXCase>/AnxOrder}" id="idAnxOrderText"/></form:content></form:SimpleForm><Toolbar id="idSmartFormThirdSeparator" visible="false" width="20rem" height="1px" class="tinyMarginBottomTop sapUiSmallMarginBegin"/><form:SimpleForm id="idSmartFormThird" class="SmartFormThirdSqueezed sapUiNoMarginTop sapUiTinyMarginBottom" layout="ResponsiveGridLayout" editable="true"\n\t\t\t\t\t\t\t\tcd:w5g.dt.context="/HeaderSet" labelSpanS="2" labelSpanL="2" columnsXL="1" columnsM="1" columnsL="1" visible="false"><form:content><VBox id="idValueScanSectionVbox"><l:VerticalLayout><FlexBox alignItems="Center" justifyContent="Start"><Label text="Bin:" labelFor="idBinText" id="idBinLabel" visible="false"/><Input id="idBinText" visible="false" class="sapUiSmallMarginBegin centered-placeholder" enabled="false" placeholder="{Material>/BinPrefix} {Material>/Bin}" width="18rem"/></FlexBox><Label text="Val/Change"/><FlexBox alignItems="Center" justifyContent="Start"><Text width="2rem" id="idBinPrefix" class="sapUiTinyMarginBeginEnd UpperCaseInput" text="{NewBin>/NewBinPrefix}" visible="false"/><Input width="10rem" id="idValueInput" class="sapUiTinyMarginEnd UpperCaseInput" submit="onBinScanSuccess" liveChange="onLiveChange"/><Button id="idManualBinInput" class="sapUiTinyMarginEnd" icon="sap-icon://keyboard-and-mouse" press="onManualBinInput" width="2.5rem"/><ndc:BarcodeScannerButton id="idValueButton" scanSuccess="onBinScanSuccess" scanFail="onPrinterScannFail" width="2.5rem"/></FlexBox><Button id="idValueNextButton" text="Next" class="sapUiTinyMarginEnd" press="onBinScanSuccess" width="8rem"/></l:VerticalLayout></VBox></form:content></form:SimpleForm><Toolbar id="idSmartFormFourthSeparator" visible="false" width="20rem" height="1px" class="tinyMarginBottomTop sapUiSmallMarginBegin"/><form:SimpleForm id="idSmartFormFourth" layout="ResponsiveGridLayout" class="SmartFormSecondSqueezed sapUiNoMarginTop sapUiNoMarginBottom" labelSpanS="4"\n\t\t\t\t\t\t\t\tlabelSpanM="4" visible="false"><form:content><Label text="SC"/><Text text="{Material>/SC}" id="idScText"/><Label text="Available"/><Text text="{Material>/Available}" id="idAvailableText" class="sapUiSmallMarginEnd SmallInput"/><Text text=" EA"/><Label class="additionalPaddingTop" text="Quantity"/><Input id="idQuantityInput" class="sapUiTinyMarginEnd SmallInput noPaddingTop" description="" type="Number"\n\t\t\t\t\t\t\t\t\t\tenabled="false" liveChange="onLiveChangeQuantity"/><Text class="additionalPaddingTop" text="EA"/></form:content></form:SimpleForm></l:VerticalLayout><Carousel id="itemsCarousel" arrowsPlacement="PageIndicator" loop="false" height="" visible="false" width="25rem"/></content><footer><Toolbar width="100%" id="idBottomToolbar"><content><Button icon="sap-icon://refresh" id="idRefreshButton" press="refreshView" type="Reject"/><ToolbarSpacer/><Button text="Confirm" id="idButtonConfirm" type="Emphasized" press="onConfirmButton" enabled="false" visible="false"/><Button text="Confirm" id="idButtonConfirmBulk" type="Emphasized" press="onConfirmBulkButton" visible="false"/></content></Toolbar></footer></Page></pages></App></Shell></mvc:View>'
}});
